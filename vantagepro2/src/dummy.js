const Control = require('./Control');
const BU = require('base-util-jh').baseUtil;

const dummyList = [
  '4c4f4f0000d20577745d0333290302019c00ffffffffffffffffffffffffffffff39ffffffffffffff00005003040000ffff00000d000d0036004f018104ffffffffffffff0000000000000000000000000000000000007501062d6e02fb070a0d680d',
  '4c4f4f0000d20577745d0333290301019c00ffffffffffffffffffffffffffffff39ffffffffffffff00005003040000ffff00000d000d0036004f018104ffffffffffffff0000000000000000000000000000000000007501062d6e02fb070a0d4b2b',
  '4c4f4f0000d20577745d0333290301019c00ffffffffffffffffffffffffffffff39ffffffffffffff00005003040000ffff00000d000d0036004f018104ffffffffffffff0000000000000000000000000000000000007501062d6e02fb070a0d4b2b',
  '4c4f4f0000d20577745d0333290301019c00ffffffffffffffffffffffffffffff39ffffffffffffff00005003040000ffff00000d000d0036004f018104ffffffffffffff0000000000000000000000000000000000007501062d6e02fb070a0d4b2b',
  '4c4f4f0000d30577745e0333290301019d00ffffffffffffffffffffffffffffff39ffffffffffffff000050ff030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0dfe76',
  '4c4f4f0000d30577745e0333290302019b00ffffffffffffffffffffffffffffff39ffffffffffffff000050ff030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0da56f',
  '4c4f4f0000d30577745e0333290302019b00ffffffffffffffffffffffffffffff39ffffffffffffff000050ff030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0da56f',
  '4c4f4f0000d30577745e0333290302019b00ffffffffffffffffffffffffffffff39ffffffffffffff000050ff030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0da56f',
  'sponse --> NEXT',
  'a --> LOOP',
  '064c4f4f0000d30577745e0333290302019b00ffffffffffffffffffffffffffffff39ffffffffffffff000050ff030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0da56',
  '4c4f4f0000d30577745e0333290302019b00ffffffffffffffffffffffffffffff39ffffffffffffff000050ff030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0da56f',
  '4c4f4f0000d30577745e0333290302019b00ffffffffffffffffffffffffffffff39ffffffffffffff00004fff030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0db4dc',
  '4c4f4f0000d30577745e0333290303019b00ffffffffffffffffffffffffffffff39ffffffffffffff00004fff030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0d5a21',
  '4c4f4f0000d30577745e0333290303019b00ffffffffffffffffffffffffffffff39ffffffffffffff00004fff030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0d5a',
  '21',
  '4c4f4f0000d30577745e0333290302019b00ffffffffffffffffffffffffffffff39ffffffffffffff00004fff030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0db4dc',
  '4c4f4f0000d30577745e0333290302019b00ffffffffffffffffffffffffffffff39ffffffffffffff00004fff030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0db4dc',
  '4c4f4f0000d30577745e0333290302019b00ffffffffffffffffffffffffffffff39ffffffffffffff00004fff030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0db4dc',
  '4c4f4f0000d30577745e0333290301019b00ffffffffffffffffffffffffffffff39ffffffffffffff00004fff030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0d97fa',
  '4c4f4f0000d30577745e0333290301019b00ffffffffffffffffffffffffffffff39ffffffffffffff00004fff030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0d97fa',
  '4c4f4f0000d30577745e0333290301019b00ffffffffffffffffffffffffffffff39ffffffffffffff00004fff030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0d97fa',
  '4c4f4f0000d30577745e0333290302019b00ffffffffffffffffffffffffffffff39ffffffffffffff00004fff030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0db4dc',
  '4c4f4f0000d30577745e0333290302019b00ffffffffffffffffffffffffffffff39ffffffffffffff00004fff030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0db4dc',
  '4c4f4f0000d30577745e0333290302019b00ffffffffffffffffffffffffffffff39ffffffffffffff00004fff030000ffff00000d000d0036004f018104ffffffffffffff0000000000000000000000',
  '4c4f4f0000d30577745e0333290302019b00ffffffffffffffffffffffffffffff39ffffffffffffff00004fff030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0db4dc',
  '4c4f4f0000d30577745e0333290303019b00ffffffffffffffffffffffffffffff39ffffffffffffff00004fff030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0d5a21',
  '4c4f4f0000d30577745e0333290303019b00ffffffffffffffffffffffffffffff39ffffffffffffff00004fff030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0d5a21',
  '4c4f4f0000d30577745e0333290303019b00ffffffffffffffffffffffffffffff39ffffffffffffff00004fff030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0d5a21',
  '4c4f4f0000d30577745e0333290303019b00ffffffffffffffffffffffffffffff39ffffffffffffff00004fff030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0d5a21',
  '4c4f4f0000d30577745e0333290303019b00ffffffffffffffffffffffffffffff39ffffffffffffff00004fff030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0d5a21',
  '4c4f4f0000d30577745e0333290302019b00ffffffffffffffffffffffffffffff39ffffffffffffff00004fff030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0db4dc',
  '4c4f4f0000d30577745e0333290302019b00ffffffffffffffffffffffffffffff39ffffffffffffff00004fff030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0db4dc',
  '4c4f4f0000d30577745e0333290302019b00ffffffffffffffffffffffffffffff39ffffffffffffff00004fc9030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0d27ef',
  '4c4f4f0000d30577745e0333290302019b00ffffffffffffffffffffffffffffff39ffffffffffffff00004fc9030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0d27ef',
  '4c4f4f0000d30577745e0333290301019b00ffffffffffffffffffffffffffffff39ffffffffffffff00004fc9030000ffff00000d000d0036004f018104ffffffffffffff000000000000000000000000000000000000b300062d6e02fb070a0d04c9',
];

dummyList.forEach((currentItem, index) => {
  dummyList[index] = Buffer.from(currentItem, 'hex');
});

let index = 0;

let onceRun = true;
/**
 * @param {Control} controller
 */
const generateData = controller => {
  if (onceRun) {
    onceRun = false;
    BU.CLI('데이터 생성기 시작');
    setInterval(() => {
      controller.onDcData({
        commandSet: { cmdList: [{ data: 'LOOP\n', commandExecutionTimeoutMs: 1000 }] },
        currCmdIndex: 0,
        data: dummyList[index],
      });
      index += 1;
      // index = index >= dummyList.length ? 0 : index;
    }, 2000);
  }
};

/**
 * @param {Control} controller
 */
module.exports = controller => generateData(controller);
